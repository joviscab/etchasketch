<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Etch-a-Sketch!</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="wrapper">
    <h1>Etch-a-Sketch</h1>
    <div id="topdiv"></div>
    <div id="container"></div>
  </div>

<script>

document.addEventListener("DOMContentLoaded", () => {
  const container = document.getElementById("container");

function makeGrid(gridSize) {
  for (let i = 0; i < gridSize * gridSize; i++) {
    let cell = document.createElement("div");
    cell.classList.add("cell");
    container.appendChild(cell)
  }
container.style.gridTemplateColumns = `repeat(${gridSize}, 1fr)`;
container.style.gridTemplateRows = `repead(${gridSize}, 1fr)`;
attachEventListeners();
}

function attachEventListeners(){
  const cells = document.querySelectorAll(".cell");

  cells.forEach(cell => {
    cell.addEventListener("mouseover", () => {
      if (!cell.classList.contains("clicked")) {
      cell.style.backgroundColor = "black";
      }
   });

   cell.addEventListener("mouseout", () => {
      if (!cell.classList.contains("clicked")) {
          cell.style.backgroundColor = "";
     }
   });

   cell.addEventListener("click", (event) => {
     if (event.button === 0) {
        if (cell.classList.contains("clicked")) {
            cell.style.backgroundColor = "";
           cell.classList.remove("clicked");
        } else {
           cell.style.backgroundColor = "black";
           cell.classList.add("clicked");
        }
      }
   });
 });
}

makeGrid(16);

function selectGridSize() {
  let button = document.createElement("button");
  button.classList.add("gridbtn");
  button.textContent = "Choose Grid Size";
  document.getElementById("topdiv").appendChild(button);
  button.addEventListener("click", () => {
    const gridSize = prompt("Enter grid size");
    if (gridSize) {
      container.innerHTML = "";
      makeGrid(parseInt(gridSize));
    }
  });
}

  selectGridSize();

});

</script>
</body>
</html>